
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Colis - Mobile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .slide-enter-active, .slide-leave-active {
            transition: transform 0.3s ease;
        }
        .slide-enter-from, .slide-leave-to {
            transform: translateX(100%);
        }
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .notification-dot {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #EF4444;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div id="app" class="max-w-md mx-auto bg-white min-h-screen relative overflow-hidden">
        <!-- Main Dashboard View -->
        <div id="main-view" class="pb-20">
            <!-- Header -->
            <header class="bg-blue-600 text-white p-4 shadow-md">
                <div class="flex justify-between items-center">
                    <h1 class="text-xl font-bold">Dashboard Colis</h1>
                    <div class="relative">
                        <button @click="toggleNotifications" class="p-2 rounded-full hover:bg-blue-500 transition">
                            <i class="fas fa-bell"></i>
                            <span v-if="unreadNotifications > 0" class="notification-dot"></span>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Stats Cards -->
            <div class="grid grid-cols-2 gap-3 p-4">
                <div class="bg-white rounded-lg p-4 card-shadow border-l-4 border-blue-500">
                    <div class="text-gray-500 text-sm">Colis actifs</div>
                    <div class="text-2xl font-bold">1,248</div>
                    <div class="text-green-500 text-xs mt-1"><i class="fas fa-arrow-up"></i> 12%</div>
                </div>
                <div class="bg-white rounded-lg p-4 card-shadow border-l-4 border-red-500">
                    <div class="text-gray-500 text-sm">En retard</div>
                    <div class="text-2xl font-bold">42</div>
                    <div class="text-red-500 text-xs mt-1"><i class="fas fa-exclamation-circle"></i> À traiter</div>
                </div>
                <div class="bg-white rounded-lg p-4 card-shadow border-l-4 border-green-500">
                    <div class="text-gray-500 text-sm">Livrés aujourd'hui</div>
                    <div class="text-2xl font-bold">187</div>
                    <div class="text-green-500 text-xs mt-1"><i class="fas fa-check-circle"></i> 15%</div>
                </div>
                <div class="bg-white rounded-lg p-4 card-shadow border-l-4 border-purple-500">
                    <div class="text-gray-500 text-sm">Poids total</div>
                    <div class="text-2xl font-bold">2.4T</div>
                    <div class="text-blue-500 text-xs mt-1"><i class="fas fa-box-open"></i> Moy. 1.9kg</div>
                </div>
            </div>

            <!-- Priority Packages -->
            <div class="px-4 mt-2">
                <div class="flex justify-between items-center mb-2">
                    <h2 class="font-semibold text-gray-700">Colis prioritaires</h2>
                    <a href="#" class="text-blue-500 text-sm">Voir tout</a>
                </div>
                <div class="bg-white rounded-lg overflow-hidden card-shadow">
                    <div class="divide-y divide-gray-200">
                        <div v-for="(pkg, index) in priorityPackages" :key="index" class="p-3 flex items-center justify-between">
                            <div>
                                <div class="font-medium">#{{ pkg.id }}</div>
                                <div class="text-sm text-gray-500">{{ pkg.client }}</div>
                            </div>
                            <div :class="{'text-red-500': pkg.status === 'late', 'text-yellow-500': pkg.status === 'urgent'}" class="text-xs font-semibold">
                                <i :class="{'fa-clock': pkg.status === 'late', 'fa-exclamation-triangle': pkg.status === 'urgent'}" class="fas mr-1"></i>
                                {{ pkg.status === 'late' ? 'En retard' : 'Urgent' }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Failed/Action Needed -->
            <div class="px-4 mt-4">
                <div class="flex justify-between items-center mb-2">
                    <h2 class="font-semibold text-gray-700">Nécessite action</h2>
                    <a href="#" class="text-blue-500 text-sm">Voir tout</a>
                </div>
                <div class="bg-white rounded-lg overflow-hidden card-shadow">
                    <div class="divide-y divide-gray-200">
                        <div v-for="(item, index) in actionNeeded" :key="index" class="p-3 flex items-center justify-between">
                            <div>
                                <div class="font-medium">#{{ item.id }}</div>
                                <div class="text-sm text-gray-500">{{ item.reason }}</div>
                            </div>
                            <button class="bg-blue-500 text-white px-3 py-1 rounded text-xs">Traiter</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3">
                <div class="grid grid-cols-4 gap-2">
                    <button @click="showScanner" class="flex flex-col items-center justify-center p-2 text-blue-500">
                        <i class="fas fa-qrcode text-xl mb-1"></i>
                        <span class="text-xs">Scanner</span>
                    </button>
                    <button @click="showSearch" class="flex flex-col items-center justify-center p-2 text-green-500">
                        <i class="fas fa-search text-xl mb-1"></i>
                        <span class="text-xs">Rechercher</span>
                    </button>
                    <button @click="showAddPackage" class="flex flex-col items-center justify-center p-2 text-purple-500">
                        <i class="fas fa-plus-circle text-xl mb-1"></i>
                        <span class="text-xs">Ajouter</span>
                    </button>
                    <button @click="showClients" class="flex flex-col items-center justify-center p-2 text-orange-500">
                        <i class="fas fa-users text-xl mb-1"></i>
                        <span class="text-xs">Clients</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Notifications Panel -->
        <div id="notifications-view" class="absolute inset-0 bg-white z-10 transform translate-x-full transition-transform duration-300 pb-20" :class="{'translate-x-0': showNotifications}">
            <div class="bg-blue-600 text-white p-4 shadow-md flex items-center">
                <button @click="toggleNotifications" class="mr-3">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h1 class="text-xl font-bold">Notifications</h1>
            </div>
            
            <div class="p-4">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="font-semibold">Alertes</h2>
                    <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">{{ unreadNotifications }} non lues</span>
                </div>
                
                <div class="space-y-3">
                    <div v-for="(notification, index) in notifications" :key="index" class="bg-white rounded-lg p-3 card-shadow border-l-4" :class="{'border-red-500': notification.type === 'alert', 'border-blue-500': notification.type === 'info', 'opacity-70': notification.read}">
                        <div class="flex justify-between">
                            <div class="font-medium">{{ notification.title }}</div>
                            <div class="text-xs text-gray-500">{{ notification.time }}</div>
                        </div>
                        <div class="text-sm mt-1">{{ notification.message }}</div>
                        <div v-if="notification.type === 'alert'" class="mt-2">
                            <button class="bg-red-500 text-white px-3 py-1 rounded text-xs">Action requise</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scanner View -->
        <div id="scanner-view" class="absolute inset-0 bg-black z-10 transform translate-x-full transition-transform duration-300" :class="{'translate-x-0': showScannerView}">
            <div class="absolute top-0 left-0 right-0 bg-black text-white p-4 flex items-center z-20">
                <button @click="hideScanner" class="mr-3">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h1 class="text-xl font-bold">Scanner code-barres</h1>
            </div>
            
            <div class="absolute inset-0 flex items-center justify-center z-10">
                <div class="border-2 border-white rounded-lg w-64 h-64 relative">
                    <div class="absolute -top-1 left-0 right-0 h-1 bg-white animate-pulse"></div>
                </div>
            </div>
            
            <div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white p-4 z-20">
                <button class="bg-blue-500 text-white w-full py-3 rounded-lg font-medium">
                    <i class="fas fa-bolt mr-2"></i> Flash
                </button>
                <p class="text-center text-sm mt-3">Alignez le code-barres dans le cadre pour scanner</p>
            </div>
        </div>

        <!-- Package Detail View -->
        <div id="package-view" class="absolute inset-0 bg-white z-10 transform translate-x-full transition-transform duration-300 pb-20" :class="{'translate-x-0': showPackageView}">
            <div class="bg-blue-600 text-white p-4 shadow-md flex items-center">
                <button @click="hidePackageView" class="mr-3">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h1 class="text-xl font-bold">Détails colis #PKG12345</h1>
            </div>
            
            <div class="p-4">
                <div class="bg-white rounded-lg p-4 card-shadow mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <div class="font-bold text-lg">Colis #PKG12345</div>
                            <div class="text-sm text-gray-500">Créé le 15/06/2023</div>
                        </div>
                        <span class="bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs">En retard</span>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-3 mb-3">
                        <div>
                            <div class="text-xs text-gray-500">Client</div>
                            <div class="font-medium">Amazon FR</div>
                        </div>
                        <div>
                            <div class="text-xs text-gray-500">Transporteur</div>
                            <div class="font-medium">Chronopost</div>
                        </div>
                        <div>
                            <div class="text-xs text-gray-500">Poids</div>
                            <div class="font-medium">2.4 kg</div>
                        </div>
                        <div>
                            <div class="text-xs text-gray-500">Dimensions</div>
                            <div class="font-medium">30x20x15 cm</div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <div class="text-xs text-gray-500">Adresse</div>
                        <div class="font-medium">12 Rue de la Paix, 75002 Paris</div>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button class="bg-blue-500 text-white px-3 py-1 rounded text-sm flex-1">
                            <i class="fas fa-edit mr-1"></i> Modifier
                        </button>
                        <button class="bg-green-500 text-white px-3 py-1 rounded text-sm flex-1">
                            <i class="fas fa-check mr-1"></i> Livrer
                        </button>
                    </div>
                </div>
                
                <h2 class="font-semibold mb-2">Historique</h2>
                <div class="bg-white rounded-lg p-4 card-shadow">
                    <div class="space-y-4">
                        <div v-for="(event, index) in packageHistory" :key="index" class="flex">
                            <div class="flex flex-col items-center mr-3">
                                <div :class="{'bg-blue-500': index === 0, 'bg-gray-300': index !== 0}" class="w-3 h-3 rounded-full"></div>
                                <div v-if="index !== packageHistory.length - 1" class="w-px h-full bg-gray-300"></div>
                            </div>
                            <div>
                                <div class="font-medium">{{ event.status }}</div>
                                <div class="text-sm text-gray-500">{{ event.date }} à {{ event.time }}</div>
                                <div v-if="event.location" class="text-sm">{{ event.location }}</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h2 class="font-semibold mb-2 mt-4">Preuves</h2>
                <div class="grid grid-cols-3 gap-2">
                    <div class="bg-gray-200 rounded-lg aspect-square flex items-center justify-center">
                        <i class="fas fa-camera text-gray-400 text-xl"></i>
                    </div>
                    <div class="bg-gray-200 rounded-lg aspect-square flex items-center justify-center">
                        <i class="fas fa-signature text-gray-400 text-xl"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Clients View -->
        <div id="clients-view" class="absolute inset-0 bg-white z-10 transform translate-x-full transition-transform duration-300 pb-20" :class="{'translate-x-0': showClientsView}">
            <div class="bg-blue-600 text-white p-4 shadow-md flex items-center">
                <button @click="hideClientsView" class="mr-3">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h1 class="text-xl font-bold">Clients</h1>
            </div>
            
            <div class="p-4">
                <div class="relative mb-4">
                    <input type="text" placeholder="Rechercher un client..." class="w-full p-3 pl-10 bg-gray-100 rounded-lg">
                    <i class="fas fa-search absolute left-3 top-3.5 text-gray-400"></i>
                </div>
                
                <div class="space-y-3">
                    <div v-for="(client, index) in clients" :key="index" class="bg-white rounded-lg p-3 card-shadow flex items-center">
                        <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-500 mr-3">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="flex-1">
                            <div class="font-medium">{{ client.name }}</div>
                            <div class="text-sm text-gray-500">{{ client.packages }} colis ce mois</div>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const app = {
            data() {
                return {
                    showNotifications: false,
                    unreadNotifications: 3,
                    showScannerView: false,
                    showPackageView: false,
                    showClientsView: false,
                    priorityPackages: [
                        { id: 'PKG12345', client: 'Amazon FR', status: 'late' },
                        { id: 'PKG67890', client: 'DHL Express', status: 'urgent' },
                        { id: 'PKG24680', client: 'La Redoute', status: 'urgent' }
                    ],
                    actionNeeded: [
                        { id: 'PKG13579', reason: 'Échec de livraison' },
                        { id: 'PKG11223', reason: 'Adresse incomplète' },
                        { id: 'PKG44556', reason: 'Paiement en attente' }
                    ],
                    notifications: [
                        { 
                            title: 'Colis en retard', 
                            message: '5 colis n\'ont pas été livrés dans les délais', 
                            time: '10 min', 
                            type: 'alert', 
                            read: false 
                        },
                        { 
                            title: 'Nouveau colis', 
                            message: 'Un nouveau colis a été ajouté par Amazon FR', 
                            time: '1h', 
                            type: 'info', 
                            read: true 
                        },
                        { 
                            title: 'Mise à jour système', 
                            message: 'La nouvelle version de l\'application est disponible', 
                            time: '2h', 
                            type: 'info', 
                            read: true 
                        },
                        { 
                            title: 'Alerte livraison', 
                            message: 'Le transporteur UPS signale des retards dans votre région', 
                            time: '5h', 
                            type: 'alert', 
                            read: false 
                        }
                    ],
                    packageHistory: [
                        { status: 'Livré', date: '16/06/2023', time: '14:30', location: '12 Rue de la Paix, Paris' },
                        { status: 'En livraison', date: '16/06/2023', time: '09:15', location: 'Entrepôt Paris Nord' },
                        { status: 'En transit', date: '15/06/2023', time: '18:45', location: 'Plateforme de tri' },
                        { status: 'Préparé', date: '15/06/2023', time: '11:20', location: 'Entrepôt principal' },
                        { status: 'Commande reçue', date: '14/06/2023', time: '16:10' }
                    ],
                    clients: [
                        { name: 'Amazon FR', packages: 124 },
                        { name: 'DHL Express', packages: 87 },
                        { name: 'La Redoute', packages: 56 },
                        { name: 'Cdiscount', packages: 42 },
                        { name: 'Fnac', packages: 38 }
                    ]
                }
            },
            methods: {
                toggleNotifications() {
                    this.showNotifications = !this.showNotifications;
                    if (this.showNotifications) {
                        this.unreadNotifications = 0;
                    }
                },
                showScanner() {
                    this.showScannerView = true;
                },
                hideScanner() {
                    this.showScannerView = false;
                },
                showSearch() {
                    // In a real app, this would show search functionality
                    alert('Fonctionnalité de recherche');
                },
                showAddPackage() {
                    // In a real app, this would show add package form
                    alert('Ajouter un nouveau colis');
                },
                showClients() {
                    this.showClientsView = true;
                },
                hideClientsView() {
                    this.showClientsView = false;
                },
                showPackageDetail() {
                    this.showPackageView = true;
                },
                hidePackageView() {
                    this.showPackageView = false;
                }
            },
            mounted() {
                // Simulate clicking on a package to show detail view
                setTimeout(() => {
                    const firstPackage = document.querySelector('.priority-packages div:first-child');
                    if (firstPackage) {
                        firstPackage.addEventListener('click', this.showPackageDetail);
                    }
                }, 100);
            }
        };
        
        Vue.createApp(app).mount('#app');
    </script>
</body>
</html>